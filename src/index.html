<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charts</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">

    <!-- Charts.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.9/dist/chart.umd.min.js"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Custom Scripts -->
    <script src="main.js" type="module" defer></script>
</head>
<body>
    <main id="root" class="accordion m-3">
        <section id="user-registration" class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#user-registration-collapse" aria-expanded="true" aria-controls="user-registration-collapse">
                    <i class="bi bi-person-plus-fill"></i> &nbsp; Cadastro de Usuário
                </button>
            </h2>
            <div id="user-registration-collapse" class="accordion-collapse collapse" aria-labelledby="user-registration-header">
                <div class="accordion-body">
                    <span>Preencha o formulário abaixo para cadastrar um novo usuário.</span>
                </div>

                <form id="user-registration-form" class="d-flex flex-column gap-2 mx-2 mb-2">
                    <div class="conteiner">
                        <div class="row g-2">
                            <div class="col-12 col-lg-6">
                                <div class="form-floating">
                                    <input id="user-name-input" class="form-control"
                                        type="text" placeholder="John Doe">
                                    <label for="user-name-input">Nome</label>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <div class="form-floating">
                                    <input id="user-email-input" class="form-control"
                                        type="email" placeholder="example@example.com">
                                    <label for="user-email-input">E-mail</label>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6">
                                <div class="form-floating">
                                    <input id="user-birthdate-input" class="form-control"
                                        type="date" placeholder="YYYY-MM-DD">
                                    <label for="user-birthdate-input">Data de Nascimento</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-check form-switch form-control-lg">
                                    <input id="user-active-input" class="form-check-input"
                                        type="checkbox" checked>
                                    <label class="form-check-label" for="user-active-input">Usuário Ativo</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="alert alert-dismissible fade d-none" role="alert" data-role="validation-warning">
                        <span></span>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    <div class="d-flex flex-column flex-sm-row gap-2">
                        <button id="submit-user-registration" class="btn btn-outline-primary" type="submit">
                            Cadastrar
                        </button>
                        <button id="erase-user-registration-data" class="btn btn-outline-danger" type="reset">
                            Limpar Dados
                        </button>
                    </div>
                </form>
            </div>
        </section>
    
        <section id="users" class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#users-collapse" aria-expanded="true" aria-controls="users-collapse">
                    <i class="bi bi-people-fill"></i> &nbsp; Usuários
                </button>
            </h2>
            <div id="users-collapse" class="accordion-collapse collapse" aria-labelledby="users-header">
                <div class="accordion-body">
                    <span>Lista de usuários cadastrados.</span>
                </div>
                <div class="table-responsive mx-1">
                    <table id="users-table" class="table table-striped table-hover table-sm">
                        <thead>
                            <th>ID <i class="bi bi-hash"></i></th>
                            <th>Nome <i class="bi bi-alphabet-uppercase fs-5"></i></th>
                            <th>E-mail <i class="bi bi-alphabet-uppercase fs-5"></i></th>
                            <th>Data de Nascimento <i class="bi bi-calendar"></i></th>
                            <th>Ativo <i class="bi bi-check2-square"></i></th>
                            <th>Inscrição <i class="bi bi-calendar"></i></th>
                            <th>Atualização <i class="bi bi-calendar"></i></th>
                            <th>Ações <i class="bi bi-lightning-fill"></i></th>
                        </thead>
                        <tbody class="table-group-divider">
                            <tr class="empty-row">
                                <td colspan="8" class="fs-3 text-center">No momento não há usuários cadastrados.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    
        <section id="users-stats" class="accordion-item">
            <h2 class="accordion-header">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#users-stats-collapse" aria-expanded="true" aria-controls="users-stats-collapse">
                    <i class="bi bi-bar-chart-fill"></i> &nbsp; Estatísticas de Usuários
                </button>
            </h2>
            <div id="users-stats-collapse" class="accordion-collapse collapse" aria-labelledby="users-stats-header">
                <div class="accordion-body">
                    <span>Estatísticas sobre os usuários cadastrados.</span>
                </div>

                <div class="conteiner mx-2 mb-2">
                    <div class="row g-2">
                        <div id="proportion-users-by-age" class="col-12 col-lg-6">
                            <div class="card">
                                <div class="card-header text-center">
                                    <h2><i class="bi bi-graph-up-arrow"></i> Proporção de Usuários por Idade</h2>
                                </div>
                                <div class="card-body">
                                    <canvas id="proportion-users-by-age-chart"></canvas>
                                </div>
                                <div class="card-footer text-center">
                                    <span>Gráfico de barras mostrando a proporção de usuários por faixa etária.</span>
                                </div>
                            </div>
                        </div>

                        <div id="rate-of-subscription-per-month" class="col-12 col-lg-6">
                            <div class="card">
                                <div class="card-header text-center">
                                    <h2><i class="bi bi-graph-up-arrow"></i> Taxa de Inscrições por Mês</h2>
                                </div>
                                <div class="card-body">
                                    <canvas id="rate-of-subscription-per-month-chart"></canvas>
                                </div>
                                <div class="card-footer text-center">
                                    <span>Gráfico de linha mostrando a taxa de inscrições por mês.</span>
                                </div>
                            </div>
                        </div>

                        <div id="active-by-inactive-users" class="col-12">
                            <div class="card">
                                <div class="card-header text-center">
                                    <h2><i class="bi bi-people-fill"></i> Proporção de Usuários Ativos e Inativos</h2>
                                </div>
                                <div class="card-body">
                                    <canvas id="active-by-inactive-users-chart"></canvas>
                                </div>
                                <div class="card-footer text-center">
                                    <span>Gráfico de pizza mostrando a proporção de usuários ativos e inativos.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <section id="modals">
        <div class="modal fade" id="edit-user-modal" tabindex="-1" aria-labelledby="edit-user-modal-label" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="edit-user-modal-label">Editar Usuário</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="edit-user-form" class="d-flex flex-column gap-2">
                            <div class="conteiner">
                                <div class="row g-2">
                                    <div class="col-12 col-lg-6">
                                        <div class="form-floating">
                                            <input id="edit-user-name-input" class="form-control"
                                                type="text" placeholder="John Doe">
                                            <label for="edit-user-name-input">Nome</label>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6">
                                        <div class="form-floating">
                                            <input id="edit-user-email-input" class="form-control"
                                                type="email" placeholder="example@example.com">
                                            <label for="edit-user-email-input">E-mail</label>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6">
                                        <div class="form-floating">
                                            <input id="edit-user-birthdate-input" class="form-control"
                                                type="date" placeholder="YYYY-MM-DD">
                                            <label for="user-birthdate-input">Data de Nascimento</label>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-check form-switch form-control-lg">
                                            <input id="edit-user-active-input" class="form-check-input"
                                                type="checkbox" checked>
                                            <label class="form-check-label" for="user-active-input">Usuário Ativo</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="alert alert-dismissible fade d-none" role="alert" data-role="validation-warning">
                                <span></span>
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                            <div class="d-flex flex-column flex-sm-row gap-2">
                                <button id="submit-edit-user" class="btn btn-outline-primary"
                                    type="submit">
                                    Salvar Alterações
                                </button>
                                <button id="cancel-edit-user" class="btn btn-outline-danger"
                                    type="button"
                                    data-bs-dismiss="modal">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <span>Use este modal para editar os detalhes do usuário selecionado.</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>